<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agent Security Bench (ASB)</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #fff;
            color: #333;
            line-height: 1.6;
        }
        header {
            text-align: center;
            margin-bottom: 30px;
        }
        h1 {
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 15px;
        }
        h2 {
            color: #2a7fff;
            margin: 40px 0 20px;
            font-size: 22px;
        }
        .authors {
            font-size: 16px;
            color: #666;
            margin-bottom: 8px;
        }
        .institutions {
            font-size: 14px;
            color: #888;
            margin-bottom: 15px;
        }
        .accepted {
            font-size: 18px;
            color: #e44d26;
            font-weight: bold;
            margin-bottom: 20px;
        }
        .btn-group {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        .btn {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 15px;
            border-radius: 20px;
            color: #fff;
            text-decoration: none;
            font-size: 14px;
            transition: all 0.3s;
        }
        .btn:hover {
            opacity: 0.9;
            transform: translateY(-2px);
        }
        .btn-dataset {
            background-color: #9c27b0;
        }
        .btn-arxiv {
            background-color: #ff9800;
        }
        .btn-code {
            background-color: #4caf50;
        }
        .framework-img {
            display: block;
            max-width: 100%;
            margin: 0 auto 30px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .description {
            line-height: 1.6;
            color: #555;
            font-size: 15px;
            text-align: center;
            max-width: 1200px;
            margin: 40px auto 0;
            padding: 0 20px;
        }

        /* 表格容器加宽，允许表格充分展开 */
        .demos-container {
            max-width: 95%; /* 调整为更宽的容器 */
            margin: 0 auto;
            padding: 20px;
            border: 1px solid #eee;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            overflow-x: auto; /* 允许横向滚动 */
        }
        .demos-intro {
            color: #444;
            margin: 0 0 20px 0;
            font-size: 16px;
        }
        .speaker-label {
            font-weight: bold;
            margin: 0 0 15px 0;
            color: #333;
        }
        .demos-table {
            width: 100%;
            min-width: 1200px; /* 确保表格有足够宽度 */
            border-collapse: collapse;
            margin-top: 10px;
        }
        .demos-table th,
        .demos-table td {
            border: 1px solid #e0e0e0;
            padding: 12px 8px; /* 减少单元格内边距，增加可用空间 */
            text-align: left;
            vertical-align: middle;
        }
        .demos-table th {
            background-color: #f5f7fa;
            font-weight: bold;
            color: #333;
            white-space: nowrap;
        }
        .demos-table tr:nth-child(even) {
            background-color: #fafafa;
        }
        .text-row td {
            background-color: #f9f9f9;
        }
        .audio-text {
            color: #333;
            line-height: 1.5;
        }
        .audio-text .chinese {
            font-size: 15px;
            margin-bottom: 5px;
        }
        .audio-text .english {
            font-size: 13px;
            color: #666;
            font-style: italic;
        }

        /* 音频控制区布局优化 */
        .audio-control {
            display: flex;
            align-items: center;
            gap: 12px; /* 增加元素间距 */
            padding: 10px 0;
            width: 100%; /* 占满单元格宽度 */
        }
        .audio-play {
            border: none;
            background: none;
            color: #2196f3;
            cursor: pointer;
            font-size: 18px; /* 稍微放大播放按钮 */
            padding: 4px;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .audio-play:hover {
            color: #1976d2;
            background-color: rgba(33, 150, 243, 0.1);
            border-radius: 50%;
        }

        /* 音频进度条加长 */
        .audio-progress {
            flex: 3; /* 进度条占比更大 */
            height: 6px; /* 稍微加粗 */
            background-color: #eee;
            border-radius: 3px;
            position: relative;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .audio-progress:hover {
            background-color: #e0e0e0;
        }
        .audio-progress-bar {
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            background-color: #2196f3;
            width: 0%;
            border-radius: 3px;
            transition: width 0.1s linear;
        }

        .audio-time {
            font-size: 13px;
            color: #666; /* 加深时间颜色 */
            white-space: nowrap;
            width: 70px; /* 稍微加宽时间显示区 */
            text-align: center;
        }

        /* 音量控制区优化（与进度条长度更协调） */
        .volume-container {
            display: flex;
            align-items: center;
            gap: 6px;
            flex: 1; /* 音量条占比适中 */
        }
        .audio-volume {
            color: #666;
            font-size: 16px;
            cursor: pointer;
            width: 20px;
            text-align: center;
        }

        /* 音量滑块样式优化（添加拖动颜色覆盖） */
        .volume-slider {
            -webkit-appearance: none;
            width: 100%;
            height: 6px;
            background: #eee;
            border-radius: 3px;
            outline: none;
            margin: 0;
        }
        /* webkit浏览器滑块轨道样式（已拖动部分） */
        .volume-slider::-webkit-slider-runnable-track {
            height: 6px;
            border-radius: 3px;
            background: #eee;
        }
        .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: #2196f3;
            cursor: pointer;
            margin-top: -5px; /* 对齐轨道 */
            box-shadow: 0 0 2px rgba(0,0,0,0.2);
        }
        /* Firefox滑块样式 */
        .volume-slider::-moz-range-track {
            height: 6px;
            border-radius: 3px;
            background: linear-gradient(to right, #2196f3 0%, #2196f3 var(--volume), #eee var(--volume), #eee 100%);
        }
        .volume-slider::-moz-range-thumb {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: #2196f3;
            cursor: pointer;
            border: none;
            box-shadow: 0 0 2px rgba(0,0,0,0.2);
        }

        .emotion-cell {
            font-weight: bold;
            color: #2c3e50;
            padding: 20px 12px;
        }
    </style>
</head>
<body>
    <header>
        <h1>Agent Security Bench (ASB): Formalizing and Benchmarking Attacks and Defenses in LLM-based Agents</h1>
        <div class="authors">Hanrong Zhang¹, Jingyuan Huang², Kai Mei², Yifei Yao¹, Zhenting Wang², Chenlu Zhan¹, Hongwei Wang¹, Yongfeng Zhang²</div>
        <div class="institutions">¹Zhejiang University, ²Rutgers University</div>
        <div class="accepted">ICLR 2025 Accepted</div>
        <div class="btn-group">
            <a href="#" class="btn btn-dataset"><i class="fas fa-database"></i> Dataset</a>
            <a href="#" class="btn btn-arxiv"><i class="fas fa-robot"></i> arXiv</a>
            <a href="#" class="btn btn-code"><i class="fas fa-code"></i> Code</a>
        </div>
    </header>
    <main>
        <img src="framework_diagram.png" alt="LLM Agent Attacking Framework" class="framework-img">

        <div class="demos-container">
            <h2>2. Demos - multilingual expressive speech with a specific style and emotion for target speakers</h2>
            <p class="demos-intro">Convert the emotion and style expressions from different source speakers to the neutral target speakers without emotional and stylistic training data</p>
            <p class="speaker-label">Chinese speaker: F1</p>

            <table class="demos-table">
                <thead>
                    <tr>
                        <th>Emotion</th>
                        <th>Target style example</th>
                        <th>Target emotion example</th>
                        <th>Target-speaker example</th>
                        <th>TSEW</th>
                        <th>CGCLONE</th>
                        <th>Proposed</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="text-row">
                        <td rowspan="2" class="emotion-cell">Poet + Happy</td>
                        <td colspan="6">
                            <div class="audio-text">
                                <span class="chinese">Text: 长风破浪会有时，直挂云帆济沧海。</span>
                                <span class="english">(English: Someday, with my sail piercing the clouds; I will mount the wind, break the waves, and traverse the vast, rolling sea.)</span>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="audio-control">
                                <button class="audio-play" data-audio="audio1">
                                    <i class="fas fa-play"></i>
                                </button>
                                <div class="audio-progress" data-audio="audio1">
                                    <div class="audio-progress-bar"></div>
                                </div>
                                <span class="audio-time">00:00 / 00:00</span>
                                <div class="volume-container">
                                    <i class="fas fa-volume-up audio-volume" data-audio="audio1"></i>
                                    <input type="range" min="0" max="100" value="100" class="volume-slider" data-audio="audio1">
                                </div>
                                <audio id="audio1" src="audio/poet_happy_style.mp3" preload="metadata">
                            </div>
                        </td>
                        <td>
                            <div class="audio-control">
                                <button class="audio-play" data-audio="audio2">
                                    <i class="fas fa-play"></i>
                                </button>
                                <div class="audio-progress" data-audio="audio2">
                                    <div class="audio-progress-bar"></div>
                                </div>
                                <span class="audio-time">00:00 / 00:00</span>
                                <div class="volume-container">
                                    <i class="fas fa-volume-up audio-volume" data-audio="audio2"></i>
                                    <input type="range" min="0" max="100" value="100" class="volume-slider" data-audio="audio2">
                                </div>
                                <audio id="audio2" src="audio/poet_happy_emotion.mp3" preload="metadata">
                            </div>
                        </td>
                        <td>
                            <div class="audio-control">
                                <button class="audio-play" data-audio="audio3">
                                    <i class="fas fa-play"></i>
                                </button>
                                <div class="audio-progress" data-audio="audio3">
                                    <div class="audio-progress-bar"></div>
                                </div>
                                <span class="audio-time">00:00 / 00:00</span>
                                <div class="volume-container">
                                    <i class="fas fa-volume-up audio-volume" data-audio="audio3"></i>
                                    <input type="range" min="0" max="100" value="100" class="volume-slider" data-audio="audio3">
                                </div>
                                <audio id="audio3" src="audio/poet_happy_target.mp3" preload="metadata">
                            </div>
                        </td>
                        <td>
                            <div class="audio-control">
                                <button class="audio-play" data-audio="audio4">
                                    <i class="fas fa-play"></i>
                                </button>
                                <div class="audio-progress" data-audio="audio4">
                                    <div class="audio-progress-bar"></div>
                                </div>
                                <span class="audio-time">00:00 / 00:00</span>
                                <div class="volume-container">
                                    <i class="fas fa-volume-up audio-volume" data-audio="audio4"></i>
                                    <input type="range" min="0" max="100" value="100" class="volume-slider" data-audio="audio4">
                                </div>
                                <audio id="audio4" src="audio/poet_happy_tsew.mp3" preload="metadata">
                            </div>
                        </td>
                        <td>
                            <div class="audio-control">
                                <button class="audio-play" data-audio="audio5">
                                    <i class="fas fa-play"></i>
                                </button>
                                <div class="audio-progress" data-audio="audio5">
                                    <div class="audio-progress-bar"></div>
                                </div>
                                <span class="audio-time">00:00 / 00:00</span>
                                <div class="volume-container">
                                    <i class="fas fa-volume-up audio-volume" data-audio="audio5"></i>
                                    <input type="range" min="0" max="100" value="100" class="volume-slider" data-audio="audio5">
                                </div>
                                <audio id="audio5" src="audio/poet_happy_cgclone.mp3" preload="metadata">
                            </div>
                        </td>
                        <td>
                            <div class="audio-control">
                                <button class="audio-play" data-audio="audio6">
                                    <i class="fas fa-play"></i>
                                </button>
                                <div class="audio-progress" data-audio="audio6">
                                    <div class="audio-progress-bar"></div>
                                </div>
                                <span class="audio-time">00:00 / 00:00</span>
                                <div class="volume-container">
                                    <i class="fas fa-volume-up audio-volume" data-audio="audio6"></i>
                                    <input type="range" min="0" max="100" value="100" class="volume-slider" data-audio="audio6">
                                </div>
                                <audio id="audio6" src="audio/poet_happy_proposed.mp3" preload="metadata">
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <p class="description">Overview including Direct Prompt Injections (DPI), Indirect Prompt Injections (IPI), Plan-of-Thought (PoT) Backdoor, and Memory Poisoning Attacks, which target the user query, observations, system prompts, and memory retrieval respectively of the agent during action planning and execution.</p>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 播放/暂停控制
            document.querySelectorAll('.audio-play').forEach(btn => {
                btn.addEventListener('click', function() {
                    const audioId = this.getAttribute('data-audio');
                    const audio = document.getElementById(audioId);
                    const icon = this.querySelector('i');
                    
                    if (audio.paused) {
                        audio.play();
                        icon.classList.remove('fa-play');
                        icon.classList.add('fa-pause');
                    } else {
                        audio.pause();
                        icon.classList.remove('fa-pause');
                        icon.classList.add('fa-play');
                    }
                });
            });

            // 进度条更新与时间显示
            document.querySelectorAll('audio').forEach(audio => {
                audio.addEventListener('loadedmetadata', function() {
                    const timeDisplay = this.closest('.audio-control').querySelector('.audio-time');
                    if (timeDisplay) {
                        const duration = formatTime(this.duration);
                        timeDisplay.textContent = `00:00 / ${duration}`;
                    }
                });

                audio.addEventListener('timeupdate', function() {
                    const timeDisplay = this.closest('.audio-control').querySelector('.audio-time');
                    const progressBar = document.querySelector(`.audio-progress[data-audio="${this.id}"] .audio-progress-bar`);
                    
                    if (progressBar) {
                        const progress = (this.currentTime / this.duration) * 100;
                        progressBar.style.width = `${progress}%`;
                    }
                    
                    if (timeDisplay && !isNaN(this.duration)) {
                        const currentTime = formatTime(this.currentTime);
                        const duration = formatTime(this.duration);
                        timeDisplay.textContent = `${currentTime} / ${duration}`;
                    }
                });

                audio.addEventListener('ended', function() {
                    const playBtn = document.querySelector(`.audio-play[data-audio="${this.id}"] i`);
                    if (playBtn) {
                        playBtn.classList.remove('fa-pause');
                        playBtn.classList.add('fa-play');
                    }
                });
            });

            // 时间格式化
            function formatTime(seconds) {
                if (isNaN(seconds)) return '00:00';
                const mins = Math.floor(seconds / 60);
                const secs = Math.floor(seconds % 60);
                return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
            }

            // 点击进度条跳转
            document.querySelectorAll('.audio-progress').forEach(progress => {
                progress.addEventListener('click', function(e) {
                    const audioId = this.getAttribute('data-audio');
                    const audio = document.getElementById(audioId);
                    const rect = this.getBoundingClientRect();
                    const pos = (e.clientX - rect.left) / rect.width;
                    audio.currentTime = pos * audio.duration;
                });
            });

            // 音量滑块控制（添加颜色覆盖效果）
            document.querySelectorAll('.volume-slider').forEach(slider => {
                // 初始化音量条颜色
                slider.style.setProperty('--volume', `${slider.value}%`);
                
                slider.addEventListener('input', function() {
                    const audioId = this.getAttribute('data-audio');
                    const audio = document.getElementById(audioId);
                    const volumeIcon = document.querySelector(`.audio-volume[data-audio="${audioId}"]`);
                    
                    const volume = this.value / 100;
                    audio.volume = volume;
                    // 更新音量条颜色覆盖
                    this.style.setProperty('--volume', `${this.value}%`);
                    updateVolumeIcon(volumeIcon, volume);
                });
            });

            // 音量图标切换
            document.querySelectorAll('.audio-volume').forEach(icon => {
                icon.addEventListener('click', function() {
                    const audioId = this.getAttribute('data-audio');
                    const audio = document.getElementById(audioId);
                    const slider = document.querySelector(`.volume-slider[data-audio="${audioId}"]`);
                    
                    if (audio.volume > 0) {
                        slider.dataset.lastVolume = audio.volume;
                        audio.volume = 0;
                        slider.value = 0;
                        slider.style.setProperty('--volume', '0%');
                    } else {
                        const lastVolume = slider.dataset.lastVolume || 1;
                        audio.volume = lastVolume;
                        slider.value = lastVolume * 100;
                        slider.style.setProperty('--volume', `${lastVolume * 100}%`);
                    }
                    updateVolumeIcon(this, audio.volume);
                });
            });

            function updateVolumeIcon(icon, volume) {
                icon.className = 'fas';
                if (volume === 0) {
                    icon.classList.add('fa-volume-mute');
                } else if (volume < 0.5) {
                    icon.classList.add('fa-volume-down');
                } else {
                    icon.classList.add('fa-volume-up');
                }
            }
        });
    </script>
</body>
</html>
